{% block upload %}
<div style="max-width: 35rem;"><div style="padding: 3rem;">
    <h2>Upload</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="input-group input-group-sm mb-3">
            <div class="custom-file">
              <input type="file" name="document" id="file_upload_field" class="custom-file-input" id="inputGroupFile01"
                aria-describedby="inputGroupFileAddon01" onchange="activate_button()" multiple>
              <script>
                function activate_button() {
                    if (document.getElementById("file_upload_field").files.length > 0 ){
                        update_text();
                        document.getElementById("btn_send_doc").disabled = false;
                    } else {
                        document.getElementById("file_upload_text").innerHTML = "Choose file";
                        document.getElementById("btn_send_doc").disabled = true;
                    }
                }
                function update_text() {
                    document.getElementById("file_upload_text").innerHTML = "";
                    for (const file of document.getElementById("file_upload_field").files) {
                        document.getElementById("file_upload_text").innerHTML += file.name;
                    }
                }
              </script>
              <!-- https://developer.mozilla.org/en-US/docs/Web/API/File/name -->
              <label class="custom-file-label" id="file_upload_text" for="inputGroupFile01">Choose file</label>
            </div>
        </div>
        <div class="input-group input-group-sm mb-3">
            <button type="submit" class="btn btn-primary" disabled="true" id="btn_send_doc">Upload file</button>
        </div>
    </form>
</div></div>
{% endblock %}

